ComplexViewer
==============

[Colin W Combe, Marine (Dumousseau) Sivade, Henning Hermjakob, Joshua Heimbach, Birgit H M Meldal, Gos Micklem, Sandra Orchard, Juri Rappsilber; ComplexViewer: visualization of curated macromolecular complexes, _Bioinformatics_, Volume 33, Issue 22, 15 November 2017, Pages 3673â€“3675, https://doi.org/10.1093/bioinformatics/btx497](https://doi.org/10.1093/bioinformatics/btx497)

v1 of the interaction viewer is deployed in EBI's Complex Portal, e.g. http://www.ebi.ac.uk/intact/complex/details/EBI-706830

We are working towards a general purpose web component for visualising interactions between biomolecules.
The aim is to represent the data present in the PSI-MI standards.

## Input data

The 'MI-JSON' data format consumed by the interaction-viewer is generated by the JAMI framework.
See: https://github.com/MICommunity/psimi

JAMI is capable of converting between various MI data formats, it can convert the PSI-MI XML standard into the MI-JSON format.

JAMI was originally developed by Marine Dumousseau, who also largely determined the structure of the MI-JSON format the viewer reads.

## Building on localhost

First install dependencies:

```sh
npm install
```

To create a production build:

```sh
npm run build-prod
```

To create a development build:

```sh
npm run build-dev
```



This file provides some documentation for the current version of the interaction-viewer. 


The procedure for use is as follows:

1. 	Construct a new instance of the xiNET App object,
    passing the target DIV you would like it to draw into as a parameter to the constructor.
    E.g.:

                var targetDiv = document.getElementById('networkContainer');
                var xlv = new xiNET(targetDiv);
 
2. 	Pass the controller the MI-JSON object and a boolean to say whether or not to expand stoichiometery: eg.:

                xlv.readMijson(data, true); // expands stoichiometry
                xlv.readMijson(data, false); // doesn't expand stoichiometry
                xlv.readMijson(data); // default is true, expands stoichiometry

3. 	You're done.

4. 	To change dataset without creating a new instance of the controller, 
    call the clear function, then call the readMijson() function with the new data.
    E.g.

                xlv.clear();
                xlv.readMijson(data2, expand);

-----------------------------------------------------------------------------------------

Other functions you may call (assumes 'xlv' is var name for your instance of xiNET App):

xlv.reset()					resets zoom/pan, changes all molecules to blobs (not bars), runs autolayout
xlv.resetZoom()				resets zoom/pan (actually, zooming currently disabled)
xlv.autoLayout()			restarts autolayout

xlv.exportSVG()				exports SVG

Choosing how to annotate proteins:

xlv.setAnnotations("MI features");	//show features from MI data 
xlv.setAnnotations("UniprotKB");	//show annotations from uniprot
xlv.setAnnotations("SuperFamily");	//from SuperFamily
xlv.setAnnotations("None");			//no annotations
xlv.setAnnotations("Interactor");	//colour bars and circles according to interactor (may help indicate stoichiometry)

-----------------------------------------------------------------------------------------

***   USER CONTROLS   ***

Toggle nodes between bar and circle	>	Left-click on node

Pan			>	Left-click and drag on background

Move node	>	Click and drag on node

Rotate bar	>	Click and drag on handles that appear at end of a bar when moused over 

Cycle through different bar lengths (longest length displays sequence)	>	Shift+left-click (this is a bit clumsy)

