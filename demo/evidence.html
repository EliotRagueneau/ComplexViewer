<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>xiNET Interaction Viewer</title>
        <meta name="xiNET Interaction Viewer" content="xiNET Interaction Viewer">
        <link rel="icon" type="image/x-icon" href="./favicon.ico">
        <!-- css -->
        <link rel="stylesheet" href="./css/demo.css">
        <link rel='stylesheet' type='text/css' href='./css/XLV.css'/>
        <meta name="viewport" content="initial-scale=1, maximum-scale=1">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <!--libraries-->
        <script type="text/javascript" src="../build/complexviewer.js"></script>
    </head>
    <body>

        <div style="height:100%;">
		<div id="networkContainer"></div>
		<div id='controls'>
			
			<select id="dataSets" onChange="loadData();">
				<option>./data/evidence/22843697.json</option>
				<option>./data/evidence/24315095.json</option> 
				<option>./data/evidence/10679202.json</option>  
				<option>./data/evidence/PolII-TFIIF.json</option>  
<!--
				<option>./data/evidence/Herzog.json</option>  
-->
				<option>./data/evidence/allostery.json</option>  
<!--
				<option>./data/evidence/Cks1-Skp2.json</option>  
-->
			</select>
		
			<input onclick="loadData()" id="chkexpansion" value="expansion" type="checkbox">Stoich. expansion
			<button onclick="xlv.reset();">Reset</button>
			<button onclick="xlv.exportSVG();">Export SVG</button>
			
			<select id="annotationsSelect" onChange="changeAnnotations();">
				<option selected='selected'>MI features</option>
				<option>UniprotKB</option> 
				<option>SuperFamily</option>  
				<option>None</option>  
				<option>Interactor</option>  
			</select>			

		</div>
        <div id="networkCaption">
			<h2>Key</h2> 
			<div>
				
<!--
				LEGEND
-->
				<table>
				  <tr>
					<td>
						<div style="float:right">
							<img src="./svgForKey/proteinBlob.svg" >
						</div>
						<div style="float:right">
							<img src="./svgForKey/proteinBar.svg">
						</div>						
					</td>
					<td>
						Protein<br>
						 - click or tap to toggle between circle and bar (bar shows binding sites, if known).</td>
				  </tr>
				  <tr>
					<td>
						<div style="float:right">
							<img src="./svgForKey/gene.svg"></td>
						</div>
					<td>Gene</td>
				  </tr>				  
				  <tr>
					<td>
						<div style="float:right">
							<img src="./svgForKey/DNA.svg"></td>
						</div>
					<td>DNA</td>
				  </tr>
				<tr>
					<td>
						<div style="float:right">
							<img src="./svgForKey/RNA.svg"></td>
						</div>
					<td>RNA</td>
				  </tr>
				</table>
			</div>
			
			<a href="../index.html"><h2>Complex data examples</h2></a>
			<a href="./evidence.html"><h2>Evidence data examples</h2></a>
			<a href="https://github.com/MICommunity/interaction-viewer/tree/master/src/controller"><h2>GitHub</h2></a>
		</div>

		
<!--
        <div id="networkCaption">
			<h2 id="jsonHeading"></h2> 
			<div id="json"/>
		</div>
-->
        </div>

        <script type="text/javascript">
                //<![CDATA[
                                
                var targetDiv = document.getElementById('networkContainer');

                xlv = new xiNET(targetDiv);
                loadData();
				changeAnnotations();
                function loadData(){
					xlv.clear();
					var matrixExpansion = document.getElementById("chkexpansion").checked;
					var dataSetsSelect = document.getElementById('dataSets');
					var path = dataSetsSelect.options[dataSetsSelect.selectedIndex].value;
				    d3.json(path, function(data) {
						xlv.readMIJSON(data, matrixExpansion);
					});            
				 }
				 
				 function changeAnnotations(){
					var annotationSelect = document.getElementById('annotationsSelect');
					xlv.setAnnotations(annotationSelect.options[annotationSelect.selectedIndex].value);
				 }
                  
                //]]>
        </script>

    </body>
</html>
